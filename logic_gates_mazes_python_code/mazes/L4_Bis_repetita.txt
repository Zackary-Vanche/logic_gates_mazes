S0 : 0; S1 : 0; S2 : 0; 
R0 : S0 
R1 : S1 
R2 : S2 
RE (EXIT): 
D0 : S0 S1 XOR; R0 --> R1
D1 : S1 S2 XOR; R1 --> R2
D2 : S2; R2 --> R0
D3 :  ( S0- S1- S2- ) &; R2 --> RE
